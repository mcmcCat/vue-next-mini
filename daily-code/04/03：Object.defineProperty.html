<script>
  // 定义一个商品对象
  let quantity = 2
  let product = {
    price: 10,
    quantity: quantity
  }

  // 总价格
  let total = 0

  // 计算总价格
  let effect = () => {
    total = product.price * product.quantity
  }

  // 第一次打印
  effect()
  console.log(`总价格：${total}`) //20

  Object.defineProperty(product, 'quantity', {
    set(newVal) {
      console.log('setter')
      quantity = newVal
      // 调用effect()
      effect()
    },
    get() {
      console.log('getter')
      return quantity
    }
  })
</script>
